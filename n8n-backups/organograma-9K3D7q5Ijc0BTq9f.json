{"createdAt":"2025-04-13T04:50:06.980Z","updatedAt":"2025-04-13T07:28:37.000Z","id":"9K3D7q5Ijc0BTq9f","name":"Organograma","active":false,"nodes":[{"parameters":{"pollTimes":{"item":[{"mode":"everyMinute"}]},"event":"fileUpdated","watch":"selectedFile","fileId":{"__rl":true,"value":"01RUPP5KCT4JOSSEVADNF2NOUNJWIWHRNQ","mode":"id"}},"type":"n8n-nodes-base.microsoftOneDriveTrigger","typeVersion":1,"position":[-1280,-400],"id":"1f98ce44-dd34-499c-bd63-3f42eb515758","name":"Microsoft OneDrive Trigger","credentials":{"microsoftOneDriveOAuth2Api":{"id":"fLY9mh5n778dkLFB","name":"Microsoft Onedrive Alvaro"}},"disabled":true},{"parameters":{},"type":"n8n-nodes-base.manualTrigger","typeVersion":1,"position":[-1280,-140],"id":"6c46fafe-6ab6-4db3-9438-c885ec6f16b8","name":"When clicking ‘Test workflow’"},{"parameters":{"fileName":"Org-Imagem.jpg","parentId":"01RUPP5KDEG2COFVHNGVHJKWEBWU3RPC5P","binaryData":true,"binaryPropertyName":"imagem"},"type":"n8n-nodes-base.microsoftOneDrive","typeVersion":1,"position":[-1280,120],"id":"13a4f01c-b97b-4be3-8953-f46d6ca88056","name":"Microsoft OneDrive","credentials":{"microsoftOneDriveOAuth2Api":{"id":"fLY9mh5n778dkLFB","name":"Microsoft Onedrive Alvaro"}}},{"parameters":{"operation":"download","fileId":"01RUPP5KCT4JOSSEVADNF2NOUNJWIWHRNQ"},"type":"n8n-nodes-base.microsoftOneDrive","typeVersion":1,"position":[-1020,-320],"id":"2a63ca27-0579-461a-999b-b3706cf66534","name":"Baixa Organograma em PDF do Onedrive","retryOnFail":true,"notesInFlow":false,"alwaysOutputData":false,"executeOnce":false,"credentials":{"microsoftOneDriveOAuth2Api":{"id":"fLY9mh5n778dkLFB","name":"Microsoft Onedrive Alvaro"}}},{"parameters":{"method":"POST","url":"https://api.cloudmersive.com/convert/pdf/to/jpg","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"contentType":"binaryData","inputDataFieldName":"=data","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-780,-320],"id":"fece65c5-a8f9-4c48-88cf-ac22f8eb8614","name":"Converte PDF > JPG","credentials":{"httpHeaderAuth":{"id":"gTkvNdugG9pmEHKS","name":"Cloudmersive Convert"}}},{"parameters":{"jsCode":"// Function (Code) node\nreturn items.map(item => {\n  const base64 = item.json.JpgResultPages[0].Content;\n  item.binary = {\n    imagem: {\n      data: Buffer.from(base64, 'base64'),\n      mimeType: 'image/jpeg',\n      fileName: 'Org-Imagem.jpg',\n    }\n  };\n  return item;\n});\n"},"type":"n8n-nodes-base.code","typeVersion":2,"position":[-1020,-80],"id":"2e6fb661-d610-4397-b6f8-fc92579f7cc5","name":"Ajusta para Base64"},{"parameters":{"method":"PUT","url":"https://api.github.com/repos/alvarocastro-aecrio/repo/contents/organograma-aec-rio/organograma.png","authentication":"predefinedCredentialType","nodeCredentialType":"githubApi","sendBody":true,"specifyBody":"json","jsonBody":"{\n    \"message\": \"Upload via API\",\n    \"content\": \"\"\n  }","options":{}},"type":"n8n-nodes-base.httpRequest","typeVersion":4.2,"position":[-420,-420],"id":"9774e3f4-c228-424c-9949-232764848b4b","name":"Manda pro repo do Github","credentials":{"githubApi":{"id":"vrjDdwVTUfXA1ZVb","name":"GitHub alvarocastro-aecrio"}}},{"parameters":{"resource":"file","owner":{"__rl":true,"value":"alvarocastro-aecrio","mode":"name"},"repository":{"__rl":true,"value":"repo","mode":"list","cachedResultName":"repo","cachedResultUrl":"https://github.com/alvarocastro-aecrio/repo"},"filePath":"organograma-aec-rio","binaryData":true,"binaryPropertyName":"imagem"},"type":"n8n-nodes-base.github","typeVersion":1,"position":[-780,-80],"id":"ef192447-7e85-4581-b0a6-a786d9058884","name":"GitHub","credentials":{"githubApi":{"id":"vrjDdwVTUfXA1ZVb","name":"GitHub alvarocastro-aecrio"}}}],"connections":{"Microsoft OneDrive Trigger":{"main":[[]]},"When clicking ‘Test workflow’":{"main":[[{"node":"Baixa Organograma em PDF do Onedrive","type":"main","index":0}]]},"Baixa Organograma em PDF do Onedrive":{"main":[[{"node":"Converte PDF > JPG","type":"main","index":0}]]},"Converte PDF > JPG":{"main":[[{"node":"Ajusta para Base64","type":"main","index":0}]]},"Ajusta para Base64":{"main":[[{"node":"GitHub","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{"node:Microsoft OneDrive Trigger":{"LastLink":"https://graph.microsoft.com/v1.0/me/drive/root/delta?token=NDslMjM0OyUyMzE7MztkOTc2NWU1ZS1mYmE4LTRkYjItYWVhNy05OGRkM2JkOTFjMTg7NjM4ODAxMjA1ODY5MjcwMDAwOzQ3NTE3MzgyMDslMjM7JTIzOyUyMzA7JTIz","lastTimeChecked":"2025-04-13T05:57:40.707Z"}},"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"10a8a57d-7646-4521-b90a-0c5e36429e99","triggerCount":1,"tags":[{"createdAt":"2025-04-13T05:01:53.417Z","updatedAt":"2025-04-13T05:01:53.417Z","id":"swZ3GoBxFG8Hf0rd","name":"Airtable"}]}